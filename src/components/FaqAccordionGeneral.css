/* ============================================================
   FaqAccordionGeneral — Dark + Gradient | Editorial & Sophisticated
   ============================================================ */

@keyframes fag-fade-up {
  from { opacity: 0; transform: translateY(24px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* Safe slide-in animations — transform only, no opacity changes */
@keyframes fag-slide-in-left {
  from { transform: translateX(-32px); }
  to   { transform: translateX(0); }
}

@keyframes fag-slide-in-right {
  from { transform: translateX(32px); }
  to   { transform: translateX(0); }
}

@keyframes fag-orb-pulse {
  0%, 100% { transform: scale(1); opacity: 0.55; }
  50%       { transform: scale(1.1); opacity: 0.72; }
}

@keyframes fag-orb-drift {
  0%, 100% { transform: scale(1); opacity: 0.42; }
  50%       { transform: scale(1.07); opacity: 0.58; }
}

@keyframes fag-line-grow {
  from { transform: scaleX(0); opacity: 0; }
  to   { transform: scaleX(1); opacity: 1; }
}

/* ---- Section shell ---- */
.fag-section {
  position: relative;
  overflow: hidden;
  padding: 7rem 0 8rem;

  /* Primary dark base with aurora gradient layers */
  background:
    radial-gradient(ellipse 90% 60% at 10% 0%, rgba(11, 122, 75, 0.26) 0%, transparent 60%),
    radial-gradient(ellipse 70% 80% at 95% 100%, rgba(26, 82, 118, 0.52) 0%, transparent 55%),
    radial-gradient(ellipse 80% 50% at 50% 50%, rgba(15, 52, 96, 0.55) 0%, transparent 70%),
    linear-gradient(145deg, #04101F 0%, var(--primary-color) 45%, #061928 100%);
}

/* ---- Decorative orbs ---- */
.fag-bg-orb {
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  z-index: 0;
  filter: blur(72px);
}

.fag-bg-orb--1 {
  width: 520px;
  height: 520px;
  top: -120px;
  left: -160px;
  background: radial-gradient(circle, rgba(11, 122, 75, 0.32) 0%, transparent 70%);
  animation: fag-orb-pulse 9s ease-in-out infinite;
}

.fag-bg-orb--2 {
  width: 680px;
  height: 680px;
  bottom: -200px;
  right: -200px;
  background: radial-gradient(circle, rgba(26, 82, 118, 0.42) 0%, transparent 65%);
  animation: fag-orb-drift 12s ease-in-out infinite;
}

.fag-bg-orb--3 {
  width: 360px;
  height: 360px;
  top: 40%;
  left: 55%;
  background: radial-gradient(circle, rgba(15, 52, 96, 0.48) 0%, transparent 70%);
  mix-blend-mode: screen;
  animation: fag-orb-pulse 7s ease-in-out infinite 2s;
}

/* Subtle noise/grain overlay via SVG */
.fag-noise-overlay {
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  opacity: 0.04;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
  background-size: 200px 200px;
}

/* ---- Inner container ---- */
.fag-inner {
  position: relative;
  z-index: 2;
  max-width: 860px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* ---- Header ---- */
.fag-header {
  text-align: center;
  margin-bottom: 4rem;
  animation: fag-fade-up 0.7s cubic-bezier(0.22, 1, 0.36, 1) both;
}

.fag-eyebrow {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.fag-eyebrow-line {
  display: block;
  height: 1px;
  width: 48px;
  background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
  animation: fag-line-grow 0.8s cubic-bezier(0.22, 1, 0.36, 1) 0.3s both;
  transform-origin: center;
}

.fag-eyebrow-text {
  font-size: 0.72rem;
  font-weight: 700;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  color: var(--accent-color);
  font-family: var(--font-body, sans-serif);
}

.fag-title {
  font-size: clamp(2.2rem, 5vw, 3.5rem);
  font-weight: 800;
  line-height: 1.1;
  margin: 0 0 1rem;
  /* Split-tone gradient text */
  background: linear-gradient(
    130deg,
    #FFFFFF 0%,
    rgba(255, 255, 255, 0.95) 40%,
    rgba(11, 180, 120, 0.95) 75%,
    rgba(26, 120, 180, 0.9) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.fag-subtitle {
  font-size: 1.05rem;
  /* Increased from 0.6 to 0.82 for better readability */
  color: rgba(255, 255, 255, 0.82);
  margin: 0;
  letter-spacing: 0.01em;
}

/* ---- Accordion ---- */
.fag-accordion {
  display: flex;
  flex-direction: column;
  gap: 0;
}

/* ---- Accordion items — ALWAYS VISIBLE by default ---- */
/* Items start visible; animation adds a subtle slide-in effect only */
.fag-item {
  /* Glassmorphism floating panel */
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  margin-bottom: 0.85rem;
  overflow: hidden;

  /* opacity is always 1 — animation is transform-only, no fill mode needed */
  opacity: 1;
  animation: fag-slide-in-left 0.5s cubic-bezier(0.22, 1, 0.36, 1);
  /* animation-delay is set inline per item; items are always visible */

  transition:
    border-color 0.3s ease,
    background 0.3s ease,
    box-shadow 0.3s ease;
}

/* Even items slide in from the right */
.fag-item:nth-child(even) {
  animation-name: fag-slide-in-right;
}

.fag-item--open {
  background: rgba(255, 255, 255, 0.09);
  border-color: rgba(11, 122, 75, 0.45);
  box-shadow:
    0 0 0 1px rgba(11, 122, 75, 0.2),
    0 20px 60px -20px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 rgba(255, 255, 255, 0.12);
}

.fag-item:hover:not(.fag-item--open) {
  background: rgba(255, 255, 255, 0.075);
  border-color: rgba(255, 255, 255, 0.18);
  box-shadow: 0 8px 32px -12px rgba(0, 0, 0, 0.4);
}

/* ---- Question button ---- */
.fag-question {
  display: flex;
  align-items: center;
  width: 100%;
  gap: 1.25rem;
  padding: 1.4rem 1.6rem;
  background: transparent;
  border: none;
  cursor: pointer;
  text-align: left;
  color: var(--text-inverse);
  transition: color 0.2s ease;
}

.fag-question:focus-visible {
  outline: 2px solid var(--accent-color);
  outline-offset: -2px;
  border-radius: 14px;
}

.fag-question-num {
  font-size: 0.72rem;
  font-weight: 700;
  letter-spacing: 0.12em;
  color: var(--accent-color);
  min-width: 26px;
  opacity: 1;
  flex-shrink: 0;
}

/* Full white — no opacity reduction */
.fag-question-text {
  flex: 1;
  font-size: 1.02rem;
  font-weight: 600;
  line-height: 1.45;
  color: var(--text-inverse);
  transition: color 0.2s ease;
}

.fag-item--open .fag-question-text {
  color: var(--text-inverse);
}

.fag-chevron {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.15);
  color: rgba(255, 255, 255, 0.75);
  transition:
    transform 0.35s cubic-bezier(0.22, 1, 0.36, 1),
    background 0.25s ease,
    color 0.25s ease,
    border-color 0.25s ease;
}

.fag-item--open .fag-chevron {
  transform: rotate(180deg);
  background: rgba(11, 122, 75, 0.25);
  border-color: rgba(11, 122, 75, 0.5);
  color: var(--text-inverse);
}

/* ---- Answer panel ---- */
.fag-answer-wrap {
  /* display toggled inline via React */
}

.fag-answer {
  padding: 0 1.6rem 1.6rem;
  padding-left: calc(1.6rem + 26px + 1.25rem);
}

/* Answer text: 0.82 opacity = good contrast on dark bg, not harsh */
.fag-answer p {
  margin: 0;
  font-size: 0.97rem;
  line-height: 1.75;
  color: rgba(255, 255, 255, 0.88);
  border-left: 2px solid rgba(11, 122, 75, 0.55);
  padding-left: 1.1rem;
}

/* ---- Floating side accent decoration ---- */
.fag-side-accent {
  position: absolute;
  right: -2rem;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: 10px;
  pointer-events: none;
  z-index: 1;
}

.fag-side-accent span {
  display: block;
  border-radius: 3px;
  background: linear-gradient(
    180deg,
    rgba(11, 122, 75, 0.7) 0%,
    rgba(26, 82, 118, 0.5) 100%
  );
  opacity: 1;
  animation: fag-fade-up 0.6s ease both;
}

.fag-side-accent span:nth-child(1) { width: 4px; height: 60px; animation-delay: 0.8s; }
.fag-side-accent span:nth-child(2) { width: 4px; height: 36px; animation-delay: 1.0s; }
.fag-side-accent span:nth-child(3) { width: 4px; height: 20px; animation-delay: 1.2s; }

/* ============================================================
   Responsive
   ============================================================ */
@media (max-width: 768px) {
  .fag-section {
    padding: 5rem 0 6rem;
  }

  .fag-inner {
    padding: 0 1.1rem;
  }

  .fag-title {
    font-size: clamp(1.8rem, 7vw, 2.4rem);
  }

  .fag-question {
    padding: 1.2rem 1.15rem;
    gap: 0.85rem;
  }

  .fag-question-text {
    font-size: 0.95rem;
  }

  .fag-answer {
    padding: 0 1.15rem 1.3rem;
    padding-left: calc(1.15rem + 26px + 0.85rem);
  }

  .fag-side-accent {
    display: none;
  }

  .fag-item:nth-child(even) {
    animation-name: fag-slide-in-left;
  }
}

@media (max-width: 400px) {
  .fag-question-num {
    display: none;
  }

  .fag-answer {
    padding-left: 1.15rem;
  }
}
